(this.webpackJsonpboard=this.webpackJsonpboard||[]).push([[0],{18:function(e,t,n){e.exports={Button:"Button_Button__I-pNN",ButtonSecondary:"Button_ButtonSecondary__2k30j",ButtonPrimary:"Button_ButtonPrimary__1k2Vr",ButtonIconText:"Button_ButtonIconText__3YJtB",ButtonGroup:"Button_ButtonGroup__1YJF_"}},19:function(e,t,n){e.exports={Card:"Card_Card__2CixC",CardDragging:"Card_CardDragging__1oeDj",CardPlaceholder:"Card_CardPlaceholder__14-Ur",CardInner:"Card_CardInner__1-qDM",CardEditButton:"Card_CardEditButton__3meqN"}},20:function(e,t,n){e.exports={EditCardForm:"EditCardForm_EditCardForm__XbZ0M",EditCardFormHeader:"EditCardForm_EditCardFormHeader__6hNoN",EditCardFormText:"EditCardForm_EditCardFormText__2FGDD",EditCardFormClose:"EditCardForm_EditCardFormClose__1wJC5"}},34:function(e,t,n){e.exports={Icon:"Icon_Icon__2FSqG",IconClose:"Icon_IconClose__bmcJa",IconAdd:"Icon_IconAdd__2elKP"}},35:function(e,t,n){e.exports={ModalOverlay:"Modal_ModalOverlay__jXat0",ModalContent:"Modal_ModalContent__3qF8d"}},41:function(e,t,n){e.exports={Column:"Column_Column__3UGoT",ColumnHeader:"Column_ColumnHeader__3n124"}},49:function(e,t,n){e.exports={AddFromTextarea:"AddCardForm_AddFromTextarea__3oOUY"}},51:function(e,t,n){e.exports={Board:"Board_Board__1_Nan"}},55:function(e,t,n){e.exports=n(68)},64:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(8),i=n(29),d=n.n(i),l=(n(64),n(37)),u=n(11),s=n(23),m=n(53),f=n(71),p=n(13),C=n(6),_=n(73),b=n(16),g=n(24),E=n(15),v=n.n(E),O=n(72),x=n(44),j=n(34),y=n.n(j),h=function(e){var t=e.type,n={close:y.a.IconClose,add:y.a.IconAdd};return o.a.createElement("span",{className:v()(y.a.Icon,n[t])})},B=n(18),S=n.n(B),I=function(e){var t=e.children,n=e.type,a=e.icon,r=Object(x.a)(e,["children","type","icon"]),c={primary:S.a.ButtonPrimary,secondary:S.a.ButtonSecondary};return o.a.createElement("button",Object.assign({className:v()(S.a.Button,c[n])},r),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{type:a}),o.a.createElement("span",{className:S.a.ButtonIconText},t)):t)},F=function(e){var t=e.children,n=Object(x.a)(e,["children"]);return o.a.createElement("div",Object.assign({className:S.a.ButtonGroup},n),t)},N=n(19),A=n.n(N),D=function(e){var t,n=e.title,a=(e.text,e.onEdit),r=e.id,c=e.column,i=e.type,d=Object(O.a)({item:{id:r,title:n,type:"card",prevColumn:c},collect:function(e){return{isDragging:e.isDragging()}}}),l=Object(C.a)(d,2),u=l[0].isDragging,s=l[1],m=v()(A.a.Card,(t={},Object(g.a)(t,A.a.CardDragging,u),Object(g.a)(t,A.a.CardPlaceholder,"placeholder"===i),t)),f=!u;return o.a.createElement("div",{className:m,ref:s,"data-card":f,id:r},o.a.createElement("div",{className:A.a.CardInner},n),o.a.createElement("div",{className:A.a.CardEditButton},o.a.createElement(I,{onClick:function(){return a(e)}},"\ud83d\udd89")))},k=n(74),L=n(40),M=n.n(L),w=n(48),R=[{title:"\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",text:"Some text",id:"8324f64b-b8d0-47f3-9502-8cc91680812b",column:"in_progress"},{title:"\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u0438\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438, \u0434\u0430 \u0442\u0430\u043a\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0432\u043e\u043e\u0431\u0449\u0435 \u043d\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u043b\u0441\u044f",text:"Some text",id:"e0c609dd-ccdd-492d-b930-48e98f9c71e0",column:"in_progress"},{title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusm",text:"Some text",id:"e0c609dd-ccdd-492d-b930-rgddxrg",column:"in_progress"},{title:" tempor incididunt ut labore et dolore magna aliqua. ",text:"Some text",id:"e0c609dd-ccdd-492d-b930-w34rw34r",column:"in_progress"},{title:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",text:"Some text",id:"e0c609dd-ccdd-492d-b930-gsergsergser",column:"in_progress"},{title:" Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. ",text:"Some text",id:"e0c609dd-ccdd-492d-b930-23ra34rsrtg",column:"testing"},{title:"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",text:"Some text",id:"e0c609dd-ccdd-492d-b930-zergdfver",column:"testing"},{title:"Sed ut perspiciatis unde omnis iste ",text:"Some text",id:"e0c609dd-ccdd-492d-b930-zergezrg",column:"testing"},{title:" natus error sit voluptatem accusantium doloremque laudantium",text:"Some text",id:"e0c609dd-ccdd-492d-b930-zergerg34rg",column:"testing"}];!function(e){e.RequestCardsList="REQUEST_CARDS_LIST",e.ReceiveCardsList="RECEIVE_CARDS_LIST",e.UpdateCard="UPDATE_CARD",e.MoveCard="MOVE_CARD",e.AddCard="ADD_CARD"}(a||(a={}));var T={list:[],isLoading:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t,r=n.type;switch(r){case a.RequestCardsList:return{isLoading:!0,list:[]};case a.ReceiveCardsList:var o=t,c=o.payload;return{isLoading:!1,list:c};case a.UpdateCard:var i=t,d=i.payload,l=e.list,u=Object(b.findIndex)(l,{id:d.id}),m=Object(p.a)(l);return m[u]=d,{isLoading:!1,list:m};case a.MoveCard:var f=t,C=f.payload,_=C.id,g=C.to,E=C.index,v=e.list,O=Object(b.findIndex)(v,{id:_}),x=v[O],j=(v=v.filter((function(e){return e.id!==_}))).filter((function(e){return e.column==x.column})),y=j[E],h=Object(b.findIndex)(v,{id:y.id}),B=Object(s.a)({},x,{column:g}),S=[].concat(Object(p.a)(v.slice(0,h)),[B],Object(p.a)(v.slice(h)));return{isLoading:!1,list:S};case a.AddCard:var I=t,F=I.payload,N=e.list;return{isLoading:!1,list:[].concat(Object(p.a)(N),[Object(s.a)({},F)])};default:return e}},U=n(49),P=n.n(U),H=function(e){var t=e.column,n=Object(r.useState)(!1),i=Object(C.a)(n,2),d=i[0],l=i[1],u=Object(r.useState)(""),s=Object(C.a)(u,2),m=s[0],f=s[1],p=Object(c.b)(),_=function(){var e;b(),p((e={title:m,text:"",id:Object(k.a)(),column:t},function(t){t({type:a.AddCard,payload:e})}))},b=function(){l(!1),f("")};return o.a.createElement("div",null,d?o.a.createElement("div",null,o.a.createElement("textarea",{value:m,onChange:function(e){return f(e.target.value)},className:P.a.AddFromTextarea,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",autoFocus:!0}),o.a.createElement("div",null,o.a.createElement(F,null,o.a.createElement(I,{type:"primary",onClick:function(){return _()},disabled:!m},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"),o.a.createElement(I,{type:"secondary",onClick:function(){return b()},icon:"close"},"\u041e\u0442\u043c\u0435\u043d\u0430")))):o.a.createElement(I,{type:"secondary",onClick:function(){return l(!0)},icon:"add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"))},G=n(35),J=n.n(G),z=function(e){var t=e.children,n=e.isOpen,a=e.onClose;return n?o.a.createElement("div",{className:J.a.Modal},o.a.createElement("div",{className:J.a.ModalOverlay,onClick:a}),o.a.createElement("div",{className:J.a.ModalContent},t)):null},V=n(20),Y=n.n(V),W=function(e){var t=e.data,n=e.onSubmit,i=Object(c.b)(),d=t.title,l=t.text,u=t.id,s=t.column,m=Object(r.useState)(d),f=Object(C.a)(m,2),p=f[0],_=f[1],b=Object(r.useState)(l),g=Object(C.a)(b,2),E=g[0],v=g[1];return o.a.createElement("div",{className:Y.a.EditCardForm},o.a.createElement("textarea",{className:Y.a.EditCardFormHeader,onChange:function(e){return _(e.target.value)},value:p}),o.a.createElement("textarea",{value:E,onChange:function(e){return v(e.target.value)},className:Y.a.EditCardFormText}),o.a.createElement("div",{className:Y.a.EditCardFormBottom},o.a.createElement(I,{type:"primary",onClick:function(){i(function(e){return function(t){t({type:a.UpdateCard,payload:e})}}({title:p,text:E,id:u,column:s})),n()},disabled:!p},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),o.a.createElement("div",{className:Y.a.EditCardFormClose},o.a.createElement(I,{onClick:function(){return n()},icon:"close"})))},X=function(e){return e.filter((function(e){return"placeholder"!==e.type}))},K=n(41),Q=n.n(K),Z=Object(u.f)((function(e){var t=e.name,n=e.id,i=e.cards,d=e.history,l=Object(r.useRef)(null),s=Object(r.useState)(i),m=Object(C.a)(s,2),f=m[0],g=m[1],E=Object(c.b)(),v=Object(u.e)(),O=Object(r.useState)(0),x=Object(C.a)(O,2),j=x[0],y=x[1],h=Object(_.a)({accept:"card",hover:function(e,t){var a=function(e,t,n){var a=Array.from(e.current.querySelectorAll('[data-card="true"]')),r=0;return a.forEach((function(e,n){var a=e.getBoundingClientRect();(function(e,t){return e.x>=t.left&&e.x<=t.right&&e.y>=t.top})(t,a)&&(r=function(e,t,n){return e.y<t.top+n/2}(t,a,e.offsetHeight)?n:n+1)})),r}(l,t.getClientOffset(),t.getSourceClientOffset()),r=Object(p.a)(X(f)).filter((function(e){return e.id!==F.id}));r.splice(a,0,{title:F.title,id:"plid",column:n,text:"",type:"placeholder"}),g(r),y(a)},drop:function(e){E(function(e,t,n){return function(r){r({type:a.MoveCard,payload:{id:e,to:t,index:n}})}}(e.id,n,j))},collect:function(e){return{isOver:e.isOver({shallow:!0}),draggingItem:e.getItem()}}}),B=Object(C.a)(h,2),S=B[0],I=S.isOver,F=S.draggingItem,N=B[1];I||function(e){return e.some((function(e){return"placeholder"===e.type}))}(f)&&g(X(f));var A=Object(b.find)(i,{id:v.id}),k=!!A,L=function(e){d.push("/".concat(e.id))},M=function(){d.push("/")};return Object(r.useEffect)((function(){g(i)}),[i]),o.a.createElement("div",{className:Q.a.Column,ref:l},o.a.createElement("div",{ref:N},o.a.createElement("h2",{className:Q.a.ColumnHeader},t),f.map((function(e){return o.a.createElement(D,Object.assign({},e,{onEdit:L,key:e.id}))})),o.a.createElement(H,{column:n}),o.a.createElement(z,{isOpen:k,onClose:function(){return M()}},o.a.createElement(W,{data:A,onSubmit:M}))))})),$=n(51),ee=n.n($),te=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.cardsList})),n=[{name:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",id:"in_progress"},{name:"\u041d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435",id:"testing"},{name:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",id:"done"}].map((function(e){return Object(s.a)({},e,{cards:t.list.filter((function(t){return t.column===e.id}))})}));return Object(r.useEffect)((function(){e(function(){var e=Object(w.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:a.ReceiveCardsList,payload:R});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),o.a.createElement(f.a,{backend:m.a},o.a.createElement("div",{className:ee.a.Board},n.map((function(e){return o.a.createElement(Z,Object.assign({},e,{key:e.id}))}))))};var ne=function(){return o.a.createElement(l.a,null,o.a.createElement(u.a,{component:te,path:"/:id?"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(10),re=n(52),oe=Object(ae.e)(Object(ae.c)({cardsList:q}),Object(ae.d)(Object(ae.a)(re.a)));d.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,{store:oe},o.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.5bcd02de.chunk.js.map